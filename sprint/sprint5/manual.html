<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>360 Life Stream :: Manuals</title>
    <meta name="description" content="These manuals are operating under the assumption that the users and administrators will be utilizing the product of Sprint 4, not the entire finished product...">

    <link rel="stylesheet" href="/360ls/css/main.css">
    <link rel="canonical" href="http://dongy7.github.io/360ls/sprint/sprint5/manual">
    <link rel="alternate" type="application/rss+xml" title="360 Life Stream" href="http://dongy7.github.io/360ls/feed.xml" />

    <link href='https://fonts.googleapis.com/css?family=EB+Garamond' rel='stylesheet' type='text/css'>
</head>


  <body>
  <div class="page">
    <header class="site-header">
    <a class="site-title" href="/360ls/">360 Life Stream</a>
    <nav class="site-nav">
        <a href="#" class="menu-icon menu.open">
            <svg viewBox="0 0 18 15">
                <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
        </a>
        <div class="trigger"><h1>Main Navigation</h1>
            <ul class="menu">
    
        
            <li><a href="/360ls" class="page-link">General Materials</a>
            <ul class="sub-menu">
            
                
                    <li><a href="/360ls/general/intro">Project Introduction</a></li>
                
                    </li>
            
                
                    <li><a href="/360ls/general/schedule">Schedule of Standing Meetings</a></li>
                
                    </li>
            
                
                    <li><a href="/360ls/general/contact">Contact Information</a></li>
                
                    </li>
            
                
                    <li><a href="/360ls/general/rules">Team Rules</a></li>
                
                    </li>
            
                
                    <li><a href="/360ls/general/journal">Journal</a></li>
                
                    </li>
            
                
                    <li><a href="/360ls/general/links">Related Links</a></li>
                
                    </li>
            
            </ul>
        
            </li>
    
        
            <li><a href="/360ls" class="page-link">Requirements Deliverables</a>
            <ul class="sub-menu">
            
                
                    <li><a href="/360ls/requirements/concept">Project Concept</a></li>
                
                    </li>
            
                
                    <li><a href="/360ls/requirements/personas">Personas</a></li>
                
                    </li>
            
                
                    <li><a href="/360ls/requirements/stories">User Stories</a></li>
                
                    </li>
            
                
                    <li><a href="/360ls/requirements/platform">Platform Analysis and Selection</a></li>
                
                    </li>
            
                
                    <li>
                        <a href="/360ls/requirements/functionalspec.html">Functional Spec</a>
                        <ul class="sub-menu">
                            
                            <li><a href="/360ls/requirements/functionalspec/usecases">Use Cases</a><li>
                            
                            <li><a href="/360ls/requirements/functionalspec/requirements">Requirements</a><li>
                            
                            <li><a href="/360ls/requirements/functionalspec/interfaces">Interfaces</a><li>
                            
                        </ul>
                    </li>
                
                    </li>
            
                
                    <li><a href="/360ls/requirements/prototype">Prototype</a></li>
                
                    </li>
            
            </ul>
        
            </li>
    
        
            <li><a href="/360ls" class="page-link">Sprint Deliverables</a>
            <ul class="sub-menu">
            
                
                    <li>
                        <a href="/360ls/sprint/sprint1.html">Sprint 1</a>
                        <ul class="sub-menu">
                            
                            <li><a href="/360ls/sprint/sprint1/specification">Functional Specification</a><li>
                            
                            <li><a href="/360ls/sprint/sprint1/design">Design Doc</a><li>
                            
                            <li><a href="/360ls/sprint/sprint1/testing">Test Plan</a><li>
                            
                            <li><a href="/360ls/sprint/sprint1/manual">User Manual</a><li>
                            
                            <li><a href="/360ls/sprint/sprint1/code">Executable Code and Instructions</a><li>
                            
                        </ul>
                    </li>
                
                    </li>
            
                
                    <li>
                        <a href="/360ls/sprint/sprint2.html">Sprint 2</a>
                        <ul class="sub-menu">
                            
                            <li><a href="/360ls/sprint/sprint2/specification">Functional Specification</a><li>
                            
                            <li><a href="/360ls/sprint/sprint2/design">Design Doc</a><li>
                            
                            <li><a href="/360ls/sprint/sprint2/testing">Test Plan</a><li>
                            
                            <li><a href="/360ls/sprint/sprint2/manual">User Manual</a><li>
                            
                            <li><a href="/360ls/sprint/sprint2/code">Executable Code and Instructions</a><li>
                            
                        </ul>
                    </li>
                
                    </li>
            
                
                    <li>
                        <a href="/360ls/sprint/sprint3.html">Sprint 3</a>
                        <ul class="sub-menu">
                            
                            <li><a href="/360ls/sprint/sprint3/specification">Functional Specification</a><li>
                            
                            <li><a href="/360ls/sprint/sprint3/design">Design Doc</a><li>
                            
                            <li><a href="/360ls/sprint/sprint3/testing">Test Plan</a><li>
                            
                            <li><a href="/360ls/sprint/sprint3/manual">User Manual</a><li>
                            
                            <li><a href="/360ls/sprint/sprint3/code">Executable Code and Instructions</a><li>
                            
                        </ul>
                    </li>
                
                    </li>
            
                
                    <li>
                        <a href="/360ls/sprint/sprint4.html">Sprint 4</a>
                        <ul class="sub-menu">
                            
                            <li><a href="/360ls/sprint/sprint4/specification">Functional Specification</a><li>
                            
                            <li><a href="/360ls/sprint/sprint4/design">Design Doc</a><li>
                            
                            <li><a href="/360ls/sprint/sprint4/testing">Test Plan</a><li>
                            
                            <li><a href="/360ls/sprint/sprint4/manual">User Manual</a><li>
                            
                            <li><a href="/360ls/sprint/sprint4/code">Executable Code and Instructions</a><li>
                            
                        </ul>
                    </li>
                
                    </li>
            
                
                    <li>
                        <a href="/360ls/sprint/sprint5.html">Sprint 5</a>
                        <ul class="sub-menu">
                            
                            <li><a href="/360ls/sprint/sprint5/specification">Functional Specification</a><li>
                            
                            <li><a href="/360ls/sprint/sprint5/design">Design Doc</a><li>
                            
                            <li><a href="/360ls/sprint/sprint5/testing">Test Plan</a><li>
                            
                            <li><a href="/360ls/sprint/sprint5/manual">User Manual</a><li>
                            
                            <li><a href="/360ls/sprint/sprint5/code">Executable Code and Instructions</a><li>
                            
                        </ul>
                    </li>
                
                    </li>
            
                
                    <li><a href="/360ls/sprint/repository">Version-Controlled Repository</a></li>
                
                    </li>
            
            </ul>
        
            </li>
    
</ul>

        </div>
    </nav>
</header>


    <div class="post">
    <header class="post-header">
        <h1>Manuals</h1>
    </header>

    <p>These manuals are operating under the assumption that the users and administrators will be utilizing the product of Sprint 4, not the entire finished product</p>
<h2 id="user-manual">User Manual</h2>

<p>For setting up the required software on the Jetson TX1, use our provisioning <a href="https://github.com/360ls/provision.git">scripts</a>.
We assume that the Jetson has been provisioned and set up properly in the
following steps.</p>

<ul>
  <li>Prerequisites:
    <ol>
      <li>Python 2.7</li>
      <li>Opencv 2.4 python library</li>
      <li>2+ USB cameras</li>
      <li>Wowza cloud streaming engine server</li>
      <li>FFmpeg 3.1.4 software package for Python installed</li>
      <li>Jetson board with Ubuntu 14.04 installed</li>
    </ol>
  </li>
  <li>Set up (Desktop Application):
    <ol>
      <li>Make sure all dependencies are installed on the box before you try to run the application</li>
      <li>Download the desktop application from our github page <a href="https://github.com/360ls/desktop/releases">here</a></li>
      <li>You can find detailed instructions on how to install and run the code <a href="https://360ls.github.io/360ls/sprint/sprint4/code">here</a></li>
      <li>Run <code class="highlighter-rouge">sudo dpkg -i 360ls-Desktop-Application-1.0.0-amd64.deb</code>.</li>
    </ol>
  </li>
  <li>Set up (Web Application):
    <ol>
      <li>Navigate to our web application after you streamed a video to see it playing live <a href="https://vcms.herokuapp.com/player">here</a></li>
    </ol>
  </li>
  <li>Set up (Stitching Application):
    <ol>
      <li>Make sure you have the correct versions of OpenCV and Python installed.</li>
      <li>Clone the stitch-flex repository by running the command:
        <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>git clone https://github.com/360ls/stitch-flex.git
</code></pre>
        </div>
      </li>
    </ol>

    <ul>
      <li>To install the package:</li>
    </ul>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">cd </span>stitch-flex
<span class="gp">$ </span>git checkout origin checkpoint/sprint3
<span class="gp">$ </span>make clean-install
</code></pre>
    </div>

    <ul>
      <li>This will install package dependencies via npm (node.js) and pip (python), including the yarn package manager dependency.</li>
    </ul>
  </li>
  <li>Running (Desktop Application):
    <ul>
      <li>Use the tab bar in the upper left of the app to navigate between the DVR mode, Live mode, and Preferences</li>
      <li>On the Live page you can press ‘Record’ and a live recording will start with the cameras attached to the box</li>
      <li>This recorded video will be live streamed to our Wowza server and routed to the web application for live viewing.</li>
      <li>Once you are done recording press ‘Stop Recording’ and the recording will be stopped and the video will be saved and uploaded to our web application.</li>
      <li>You can then navigate to the DVR page where you will see a table of videos that have been saved.</li>
      <li>Click on on of these videos and you will be taken to a player that will display the video while also providing information on the time and duration. Users will have the option to flag a video if it needs further inspection.</li>
      <li>Navigate to the Preferences page to change settings of the application.</li>
    </ul>
  </li>
  <li>
    <p>Running (Stitching Application):</p>

    <ul>
      <li>
        <p>To run the app run the following command:</p>

        <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>make run
</code></pre>
        </div>
      </li>
      <li>
        <p>to clean the package, do a fresh (but not brand new) install of dependencies, and then run the app.</p>
      </li>
      <li>To run the cli, which provides the most functionality.:
        <div class="language-bash highlighter-rouge"><pre class="highlight"><code>make cli
</code></pre>
        </div>
      </li>
      <li>To set up the camera streams
        <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>make camera-setup
</code></pre>
        </div>
      </li>
      <li>To demonstrate threading through taking snapshots
        <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>make snap
</code></pre>
        </div>
      </li>
      <li>
        <p>To lint the application:</p>
      </li>
      <li>For JS files:
        <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>eslint nameoffile.js
</code></pre>
        </div>
      </li>
      <li>For Python files;
        <div class="language-bash highlighter-rouge"><pre class="highlight"><code> <span class="nv">$ </span>make lint-py
</code></pre>
        </div>
      </li>
      <li>To run tests against the application:</li>
    </ul>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>make <span class="nb">test</span>
</code></pre>
    </div>
  </li>
  <li>Troubleshooting:
    <ul>
      <li>Make sure video and image files are in the correct folder listed above in the set up section. If not, then they will not be found by the script.</li>
      <li>Check your USB port numbers when you are making the configuration file, make sure that the port number corresponds to the stream coming in.</li>
      <li>When filming, make sure the cameras are level and have significant overlap in their field of view. If not, then the script will not be able to stitch the two streams properly.</li>
      <li>Make sure you have configured the correct ordering of camera indexes, i.e. left index is really on the left</li>
      <li>The cameras should be in live feed mode, not playback mode.</li>
      <li>The cameras should not be in fish eye mode.</li>
      <li>Verify all of the dependicies have been correctly installed with the correct version numbers.</li>
    </ul>
  </li>
  <li>Viewing live stream on Wowza:
    <ol>
      <li>Make sure you have a Wowza server up and running with a new application that can take live stream (see Admin manual to set this up)</li>
      <li>Go to the Wowza streaming engine manager (http://54.208.55.156:8088/enginemanager) and click on the application “live”.</li>
      <li>Click incoming streams on the left tab bar and select “myStream”.</li>
      <li>Then click “Test Player” to see the cameras being streamed to the Wowza server</li>
    </ol>
  </li>
</ul>

<h1 id="administrator-manual">Administrator Manual</h1>

<h3 id="desktop-application">Desktop Application</h3>
<ul>
  <li>Follow the instructions <a href="https://github.com/360ls/desktop/blob/master/README.md">here</a> to set up a developer environment for the electron app.</li>
  <li>We are using the Yarn package manager to install all dependencies for the app so make sure you have the latest version installed as well as Node.js and the npm package manager.</li>
</ul>

<h3 id="web-application">Web Application</h3>
<ul>
  <li>Wowza:
    <ul>
      <li>We have set up a Wowza streaming engine free trial on an AWS server. To gain administrative rights please contact us directly (we don’t want to put secure passwords on the web).</li>
      <li>To set up a new live application go to the “Applications” tab on the top of the engine manager page. Click the tab on the left that says “Add Application” and follow the prompts to configure settings.</li>
      <li>Right now we have our Application configured to accept any rtmp stream, and you can change these settings in the tab that says “Source Security”</li>
      <li><a href="https://docs.google.com/document/d/1P3ktqEnJgV6XPH9jGXVkZrj0uZQlp852OA8L4wnukl0/edit">Here</a> is a link to our documentation on accessing the Wowza Streaming Engine over SSH. This is needed to start and stop the app as well as configure both the AWS instance and the Wowza instance.</li>
    </ul>
  </li>
  <li>AWS S3:
    <ul>
      <li>Here (https://docs.google.com/document/d/1ap1i3Up0t6JJovi1SbXU570-4pcEgIIDbZy8u_Et4z0/edit) is a link that shows how to set up your development environment to work with our development bucket on S3 so you can develop against it.</li>
    </ul>
  </li>
</ul>

</div>


    <footer class="site-footer">
    Project page for 360 Life Stream<br />

    Using <a href="http://jekyllrb.com/">Jekyll</a>
    
     :: <a href="https://github.com/dongy7/360ls">Website source</a>
    
    
</footer>


    

    </div>
  </body>

</html>
